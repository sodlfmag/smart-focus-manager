{% extends 'blog/base.html' %}
{% load static %}

{% block content %}
<!-- í†µê³„ ëŒ€ì‹œë³´ë“œ -->
<div class="stats-dashboard">
    <div class="stats-row">
        <div class="stat-card stat-focus">
            <div class="stat-icon">ğŸ¯</div>
            <div class="stat-content">
                <div class="stat-label">ì˜¤ëŠ˜ ì§‘ì¤‘ì‹œê°„</div>
                <div class="stat-value">{{ today_stats.focus_percent }}%</div>
                <div class="stat-count">{{ today_stats.focus_count }}íšŒ</div>
            </div>
        </div>
        <div class="stat-card stat-distracted">
            <div class="stat-icon">ğŸ“±</div>
            <div class="stat-content">
                <div class="stat-label">ì˜¤ëŠ˜ ë”´ì§“ íšŸìˆ˜</div>
                <div class="stat-value">{{ today_stats.distracted_count }}</div>
                <div class="stat-count">íšŒ</div>
            </div>
        </div>
        <div class="stat-card stat-away">
            <div class="stat-icon">ğŸš¶</div>
            <div class="stat-content">
                <div class="stat-label">ì˜¤ëŠ˜ ë¶€ì¬ íšŸìˆ˜</div>
                <div class="stat-value">{{ today_stats.away_count }}</div>
                <div class="stat-count">íšŒ</div>
            </div>
        </div>
        <div class="stat-card stat-total">
            <div class="stat-icon">ğŸ“Š</div>
            <div class="stat-content">
                <div class="stat-label">ì „ì²´ í†µê³„</div>
                <div class="stat-value">{{ all_stats.total }}</div>
                <div class="stat-count">ì§‘ì¤‘ {{ all_stats.focus_percent }}%</div>
            </div>
        </div>
    </div>
</div>

<!-- í¬ìŠ¤íŠ¸ ëª©ë¡ -->
<div class="posts-container">
    <h2 class="section-title">í™œë™ ê¸°ë¡</h2>
    <div class="posts-grid">
        {% for post in posts %}
            <div class="post-card post-{{ post.title|lower }}" 
                 data-post-id="{{ post.pk }}"
                 data-post-title="{{ post.title }}"
                 data-post-text="{{ post.text }}"
                 data-post-date="{{ post.created_date|date:'Y-m-d H:i:s' }}"
                 {% if post.image %}data-post-image="{{ post.image.url }}"{% endif %}>
                <div class="post-card-header">
                    <span class="post-status-badge status-{{ post.title|lower }}">{{ post.title }}</span>
                    <span class="post-date">{{ post.created_date|date:"m/d H:i" }}</span>
                </div>
                <div class="post-card-body">
                    <p class="post-card-text">{{ post.text|truncatewords:15 }}</p>
                    {% if post.image %}
                    <div class="post-image-indicator">
                        <span class="image-icon">ğŸ“·</span> ì´ë¯¸ì§€ ìˆìŒ
                    </div>
                    {% endif %}
                </div>
            </div>
        {% empty %}
            <div class="empty-message">
                <h3>ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</h3>
                <p>ì‹œìŠ¤í…œì´ í™œì„±í™”ë˜ë©´ í™œë™ ê¸°ë¡ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}